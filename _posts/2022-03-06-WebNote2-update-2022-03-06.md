---
layout: post
title: WebNote2:LineArtアップデート情報 2022年3月6日
tags:
- WebNote2:LineArt
---

本日WebNote2:LineArtの更新を行いました。
変更点は以下の通りです。

## 絵チャット画面・フロントエンド
* カラーピッカーのプリセットカラーの内容を変更し、16種類に増加しました
* ペンの最小径を1.0mmから0.7mmに引き下げました。
  - これは試験的な物で元に戻すか将来的に再調整が行われる可能性があります
* カンバスの背景の方眼紙をオーバーホールしました
  - 方眼紙グリッドの表示間隔を10mmに設定
  - スマートフォンで表示すると縦線が異常に太く表示される不具合を修正
  - 方眼紙グリッドが表示される距離を変更
  - パフォーマンスの向上
* パフォーマンスに悪影響が出てるため、高速に描画されるマクロの書き込み制限を導入しました
* UIライブラリを@mui/materialに変更しました
  - これにより一部UIパーツやアイコン等のデザインが変更されます
* Three.jsをアップデート
  - パフォーマンスの向上
* カンバスの枠外背景色を#404040から#646464に変更
* UIをロシア語に対応
* 右クリックで色を取得できなかった不具合を修正

## プロフィール画面
* プロフィール画面で画像をアップロードすると、アスペクト比率が維持されなかった問題を修正しました。

## サーバーサイド
* WebSocketのライブラリをメジャーバージョンアップデートしました
  - 切断後もユーザー一覧に表示が残存される不具合の解消を期待しています
* Next.jsをメジャーバージョンアップデートしました
  - セキュリティの向上
  - 表示速度の向上
* ユーザーのIDの算出方法を変更
  - 毎回ランダムな値を生成していましたが、通信経路をハッシュ化して文字列に変更し、同一のユーザーはある程度同じIDになるように変更
* Firebase系モジュールを更新
* DBのミドルウェアを更新
